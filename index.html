<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HikoiriBox</title>

  <!-- CDN Libraries -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Quicksand:wght@400;600;700&display=swap"
    rel="stylesheet">

  <!-- Local CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              light: '#fbcfe8',
              DEFAULT: '#ec4899',
              dark: '#be185d',
            }
          }
        }
      }
    }
  </script>
</head>

<body class="min-h-screen flex items-center justify-center p-4 text-gray-700" x-data="appData()" x-init="initApp()">

  <!-- Main Container -->
  <div
    class="w-full max-w-7xl bg-white/90 rounded-3xl shadow-2xl overflow-hidden relative min-h-[85vh] flex flex-col md:flex-row border-4 border-white">

    <!-- Sidebar / Header -->
    <div
      class="w-full md:w-80 bg-gradient-to-b from-pink-100 to-white p-8 flex flex-col items-center text-center border-b md:border-b-0 md:border-r border-pink-100 relative z-10 shrink-0">

      <!-- Profile -->
      <div class="relative mb-6 group">
        <div
          class="absolute inset-0 bg-pink-300 rounded-full blur opacity-40 group-hover:opacity-60 transition-opacity">
        </div>
        <img :src="mascotUrl" alt="Mascot"
          class="relative w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white shadow-lg object-cover bg-white transform group-hover:scale-105 transition-transform duration-300">
        <div class="absolute bottom-2 right-2 bg-green-400 w-5 h-5 md:w-6 md:h-6 rounded-full border-2 border-white">
        </div>
      </div>

      <h1 class="text-2xl md:text-3xl font-bold text-gray-800">HikoiriBox</h1>
      <p class="text-sm md:text-base text-gray-500 mt-2 px-4">Manga Creator & Translator</p>

      <!-- Ko-fi Button -->
      <a href="https://ko-fi.com/J3J71S3651" target="_blank"
        class="mt-6 w-full max-w-xs inline-flex items-center justify-center px-6 py-3 bg-[#FF5E5B] text-white font-bold rounded-full shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8zM6 2v4M10 2v4M14 2v4" />
        </svg>
        Support Me (Ko-fi)
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex flex-col w-full max-w-xs mt-8 space-y-2">
        <button @click="currentTab = 'home'"
          :class="currentTab === 'home' ? 'bg-pink-100 text-pink-600' : 'hover:bg-pink-50 text-gray-600'"
          class="w-full text-left px-4 py-3 rounded-xl font-bold transition-colors flex items-center">
          <span class="w-6 mr-3 text-center">üè†</span> Home
        </button>
        <button @click="currentTab = 'original'"
          :class="currentTab === 'original' ? 'bg-pink-100 text-pink-600' : 'hover:bg-pink-50 text-gray-600'"
          class="w-full text-left px-4 py-3 rounded-xl font-bold transition-colors flex items-center">
          <span class="w-6 mr-3 text-center">üìö</span> Original Manga
        </button>
        <button @click="currentTab = 'translation'"
          :class="currentTab === 'translation' ? 'bg-pink-100 text-pink-600' : 'hover:bg-pink-50 text-gray-600'"
          class="w-full text-left px-4 py-3 rounded-xl font-bold transition-colors flex items-center">
          <span class="w-6 mr-3 text-center">üåê</span> Translations
        </button>
        <button @click="currentTab = 'devlog'"
          :class="currentTab === 'devlog' ? 'bg-pink-100 text-pink-600' : 'hover:bg-pink-50 text-gray-600'"
          class="w-full text-left px-4 py-3 rounded-xl font-bold transition-colors flex items-center">
          <span class="w-6 mr-3 text-center">üì¢</span> Devlog & News
        </button>
      </div>

      <!-- Secret Admin Trigger -->
      <button @click="checkAdmin()"
        class="absolute bottom-4 right-4 md:bottom-8 md:right-8 w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-400 transition-colors"
        title="Admin">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
          </path>
        </svg>
      </button>
    </div>

    <!-- Content Area -->
    <div class="flex-1 flex flex-col h-[85vh] md:h-auto overflow-hidden relative">

      <!-- Mobile Header -->
      <div class="md:hidden flex justify-between items-center p-4 border-b border-pink-100 bg-white/50 backdrop-blur">
        <h2 class="font-bold text-lg text-gray-700" x-text="getTabTitle()"></h2>
        <div class="w-8"></div>
      </div>

      <!-- Scrollable Content -->
      <div class="flex-1 overflow-y-auto content-scroll p-4 md:p-8 relative pb-24 md:pb-8">

        <!-- HOME TAB -->
        <div x-show="currentTab === 'home'" x-transition.opacity class="max-w-4xl mx-auto space-y-8">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <template x-for="link in socialLinks" :key="link.id">
              <a :href="link.url" target="_blank"
                class="block p-5 bg-white rounded-2xl shadow-sm border border-pink-100 hover:border-pink-300 hover:shadow-md hover:-translate-y-1 transition-all flex items-center group">
                <div
                  class="w-12 h-12 rounded-full bg-pink-50 flex items-center justify-center text-pink-500 mr-4 text-xl group-hover:bg-pink-500 group-hover:text-white transition-colors shadow-inner">
                  <span x-text="link.icon"></span>
                </div>
                <div>
                  <h3 class="font-bold text-gray-700 text-lg" x-text="link.title"></h3>
                  <p class="text-sm text-gray-400" x-text="link.desc"></p>
                </div>
              </a>
            </template>
          </div>

          <div class="bg-white p-6 rounded-2xl shadow-sm border border-pink-100">
            <div class="flex justify-between items-center mb-4">
              <h2 class="font-bold text-xl text-gray-800 flex items-center">
                <span class="w-2 h-6 bg-pink-500 rounded-full mr-3"></span>
                Latest News
              </h2>
              <button @click="currentTab = 'devlog'" class="text-pink-500 text-sm font-bold hover:underline">View
                All</button>
            </div>
            <template x-if="devlogs.length > 0">
              <div class="space-y-4">
                <div class="bg-pink-50 p-4 rounded-xl border border-pink-100">
                  <span
                    class="text-xs font-bold text-pink-500 uppercase tracking-wider bg-white px-2 py-1 rounded shadow-sm"
                    x-text="devlogs[0].category"></span>
                  <h3 class="font-bold text-gray-800 text-lg mt-2" x-text="devlogs[0].title"></h3>
                  <p class="text-sm text-gray-500 mt-2 line-clamp-3" x-text="devlogs[0].content"></p>
                  <div class="mt-3 text-xs text-gray-400" x-text="devlogs[0].date"></div>
                </div>
              </div>
            </template>
          </div>
        </div>

        <!-- ORIGINAL MANGA TAB -->
        <div x-show="currentTab === 'original'" x-cloak class="max-w-5xl mx-auto">
          <h2 class="font-bold text-2xl text-gray-800 mb-6 text-center md:text-left">üìö Original Manga</h2>
          <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <template x-for="manga in originalMangas" :key="manga.id">
              <div @click="openMangaModal(manga)"
                class="bg-white rounded-2xl overflow-hidden shadow-sm border border-pink-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group cursor-pointer flex flex-col">
                <div class="aspect-[2/3] bg-gray-200 relative overflow-hidden">
                  <img :src="manga.cover"
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                  <div
                    class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4">
                    <span class="text-white font-bold bg-pink-500 px-3 py-1 rounded-full text-xs shadow-lg">Read
                      Now</span>
                  </div>
                </div>
                <div class="p-4 flex-1 flex flex-col">
                  <h3 class="font-bold text-gray-800 line-clamp-2" x-text="manga.title"></h3>
                  <p class="text-xs text-pink-500 font-medium mt-1" x-text="manga.status"></p>
                  <div class="mt-2 flex gap-1 flex-wrap">
                    <template x-for="lang in manga.langs" :key="lang">
                      <span class="text-[10px] px-1.5 py-0.5 rounded bg-gray-100 text-gray-500 border"
                        x-text="lang === 'TH' ? 'Thai' : 'English'"></span>
                    </template>
                  </div>
                </div>
              </div>
            </template>
          </div>
        </div>

        <!-- TRANSLATION MANGA TAB -->
        <div x-show="currentTab === 'translation'" x-cloak class="max-w-5xl mx-auto">
          <h2 class="font-bold text-2xl text-gray-800 mb-6 text-center md:text-left">üåê Translations</h2>
          <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <template x-for="manga in translationMangas" :key="manga.id">
              <div @click="openMangaModal(manga)"
                class="bg-white rounded-2xl overflow-hidden shadow-sm border border-pink-100 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group cursor-pointer flex flex-col">
                <div class="aspect-[2/3] bg-gray-200 relative overflow-hidden">
                  <img :src="manga.cover"
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                  <div
                    class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4">
                    <span class="text-white font-bold bg-pink-500 px-3 py-1 rounded-full text-xs shadow-lg">Read
                      Now</span>
                  </div>
                </div>
                <div class="p-4 flex-1 flex flex-col">
                  <h3 class="font-bold text-gray-800 line-clamp-2" x-text="manga.title"></h3>
                  <p class="text-xs text-indigo-500 font-medium mt-1" x-text="manga.role"></p>
                  <div class="mt-2 flex gap-1 flex-wrap">
                    <template x-for="lang in manga.langs" :key="lang">
                      <span class="text-[10px] px-1.5 py-0.5 rounded bg-gray-100 text-gray-500 border"
                        x-text="lang === 'TH' ? 'Thai' : 'English'"></span>
                    </template>
                  </div>
                </div>
              </div>
            </template>
          </div>
        </div>

        <!-- DEVLOG TAB -->
        <div x-show="currentTab === 'devlog'" x-cloak class="max-w-3xl mx-auto">
          <h2 class="font-bold text-2xl text-gray-800 mb-6 text-center md:text-left">üì¢ Devlog & News</h2>
          <div class="space-y-6">
            <template x-for="log in devlogs" :key="log.id">
              <div class="bg-white p-6 rounded-2xl shadow-sm border border-pink-100 relative overflow-hidden">
                <div class="absolute top-0 right-0 w-20 h-20 bg-pink-50 rounded-bl-full -mr-10 -mt-10 z-0"></div>
                <div class="relative z-10">
                  <div class="flex justify-between items-start mb-3">
                    <span class="text-xs font-bold px-3 py-1 rounded-full bg-pink-100 text-pink-600"
                      x-text="log.category"></span>
                    <span class="text-xs text-gray-400 font-mono" x-text="log.date"></span>
                  </div>
                  <h3 class="font-bold text-xl text-gray-800 mb-3" x-text="log.title"></h3>
                  <p class="text-sm text-gray-600 leading-relaxed whitespace-pre-line" x-text="log.content"></p>
                </div>
              </div>
            </template>
          </div>
        </div>

        <!-- ADMIN DASHBOARD -->
        <div x-show="currentTab === 'admin'" x-cloak class="max-w-5xl mx-auto pb-20">
          <div class="bg-indigo-50 p-6 rounded-2xl border border-indigo-100 mb-6 flex justify-between items-center">
            <div>
              <h2 class="font-bold text-indigo-900 text-xl flex items-center">
                <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                  </path>
                </svg>
                Admin Dashboard
              </h2>
              <p class="text-sm text-indigo-600 mt-2">Manage website content</p>
            </div>
            <div class="flex items-center gap-4">
              <button @click="syncToGit()" :disabled="isSyncing"
                :class="isSyncing ? 'bg-gray-400' : 'bg-green-500 hover:bg-green-600'"
                class="px-4 py-2 rounded-lg text-white text-sm font-bold shadow-md transition-colors flex items-center gap-2">
                <template x-if="!isSyncing">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                    </path>
                  </svg>
                </template>
                <template x-if="isSyncing">
                  <svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor"
                      d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                    </path>
                  </svg>
                </template>
                <span x-text="isSyncing ? 'Syncing...' : 'Sync to GitHub'"></span>
              </button>
              <button @click="logoutAdmin()" class="text-xs text-gray-500 hover:text-gray-700 underline">Logout</button>
            </div>
          </div>

          <!-- Admin Tabs -->
          <div class="flex gap-2 mb-6 overflow-x-auto">
            <button @click="adminTab = 'original'"
              :class="adminTab === 'original' ? 'bg-pink-500 text-white' : 'bg-white text-gray-600'"
              class="px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap shadow-sm">Original Manga</button>
            <button @click="adminTab = 'translation'"
              :class="adminTab === 'translation' ? 'bg-pink-500 text-white' : 'bg-white text-gray-600'"
              class="px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap shadow-sm">Translations</button>
            <button @click="adminTab = 'news'"
              :class="adminTab === 'news' ? 'bg-pink-500 text-white' : 'bg-white text-gray-600'"
              class="px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap shadow-sm">News</button>
            <button @click="adminTab = 'settings'"
              :class="adminTab === 'settings' ? 'bg-indigo-500 text-white' : 'bg-white text-gray-600'"
              class="px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap shadow-sm">Git Settings</button>
          </div>

          <!-- Admin: Original Manga -->
          <div x-show="adminTab === 'original'" class="space-y-6">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
              <h3 class="font-bold text-gray-700 mb-4 border-b pb-2">Add/Edit Original Manga</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <input x-model="formManga.title" type="text" placeholder="Title"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">
                <input x-model="formManga.cover" type="text" placeholder="Cover Image URL"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">
                <input x-model="formManga.status" type="text" placeholder="Status (e.g. Ch. 5)"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">
                <input x-model="formManga.role" type="text" placeholder="Role (e.g. Author)"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">

                <div class="md:col-span-2">
                  <label class="text-xs font-bold text-gray-500 mb-1 block">Available Languages</label>
                  <div class="flex gap-4">
                    <label class="flex items-center gap-2 text-sm"><input type="checkbox" x-model="formManga.langs"
                        value="TH" class="rounded text-pink-500"> Thai</label>
                    <label class="flex items-center gap-2 text-sm"><input type="checkbox" x-model="formManga.langs"
                        value="EN" class="rounded text-pink-500"> English</label>
                  </div>
                </div>

                <div class="md:col-span-2">
                  <label class="text-xs font-bold text-gray-500 mb-1 block">Reading Links (Format: Site
                    Name|URL)</label>
                  <textarea x-model="formManga.linksRaw"
                    placeholder="Website A|https://site-a.com&#10;Website B|https://site-b.com"
                    class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500 h-24"></textarea>
                  <p class="text-xs text-gray-400 mt-1">Enter each link on a new line. Format: Site Name|URL</p>
                </div>
              </div>
              <div class="mt-4 flex gap-2">
                <button @click="saveManga('original')"
                  class="flex-1 bg-pink-500 text-white py-3 rounded-xl text-sm font-bold hover:bg-pink-600 transition-colors shadow-md">Save</button>
                <button @click="clearForm()"
                  class="px-4 py-3 bg-gray-200 text-gray-600 rounded-xl font-bold hover:bg-gray-300">Clear</button>
              </div>
            </div>

            <div class="space-y-2">
              <h4 class="font-bold text-gray-600">Existing Manga</h4>
              <template x-for="manga in originalMangas" :key="manga.id">
                <div class="bg-white p-3 rounded-xl border border-gray-100 flex justify-between items-center">
                  <div class="flex items-center gap-3">
                    <img :src="manga.cover" class="w-10 h-14 object-cover rounded bg-gray-200">
                    <div>
                      <div class="font-bold text-sm" x-text="manga.title"></div>
                      <div class="text-xs text-gray-400" x-text="manga.status"></div>
                    </div>
                  </div>
                  <div class="flex gap-2">
                    <button @click="editManga(manga, 'original')"
                      class="text-blue-500 text-xs font-bold hover:underline">Edit</button>
                    <button @click="deleteManga(manga.id, 'original')"
                      class="text-red-500 text-xs font-bold hover:underline">Delete</button>
                  </div>
                </div>
              </template>
            </div>
          </div>

          <!-- Admin: Translation Manga -->
          <div x-show="adminTab === 'translation'" class="space-y-6">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
              <h3 class="font-bold text-gray-700 mb-4 border-b pb-2">Add/Edit Translated Manga</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <input x-model="formManga.title" type="text" placeholder="Title"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">
                <input x-model="formManga.cover" type="text" placeholder="Cover Image URL"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">
                <input x-model="formManga.status" type="text" placeholder="Status"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">
                <input x-model="formManga.role" type="text" placeholder="Your Role (e.g. Translator)"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">

                <div class="md:col-span-2">
                  <label class="text-xs font-bold text-gray-500 mb-1 block">Available Languages</label>
                  <div class="flex gap-4">
                    <label class="flex items-center gap-2 text-sm"><input type="checkbox" x-model="formManga.langs"
                        value="TH" class="rounded text-pink-500"> Thai</label>
                    <label class="flex items-center gap-2 text-sm"><input type="checkbox" x-model="formManga.langs"
                        value="EN" class="rounded text-pink-500"> English</label>
                  </div>
                </div>

                <div class="md:col-span-2">
                  <label class="text-xs font-bold text-gray-500 mb-1 block">Reading Links (Format: Site
                    Name|URL)</label>
                  <textarea x-model="formManga.linksRaw"
                    placeholder="Website A|https://site-a.com&#10;Website B|https://site-b.com"
                    class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500 h-24"></textarea>
                </div>
              </div>
              <div class="mt-4 flex gap-2">
                <button @click="saveManga('translation')"
                  class="flex-1 bg-pink-500 text-white py-3 rounded-xl text-sm font-bold hover:bg-pink-600 transition-colors shadow-md">Save</button>
                <button @click="clearForm()"
                  class="px-4 py-3 bg-gray-200 text-gray-600 rounded-xl font-bold hover:bg-gray-300">Clear</button>
              </div>
            </div>

            <div class="space-y-2">
              <h4 class="font-bold text-gray-600">Existing Translations</h4>
              <template x-for="manga in translationMangas" :key="manga.id">
                <div class="bg-white p-3 rounded-xl border border-gray-100 flex justify-between items-center">
                  <div class="flex items-center gap-3">
                    <img :src="manga.cover" class="w-10 h-14 object-cover rounded bg-gray-200">
                    <div>
                      <div class="font-bold text-sm" x-text="manga.title"></div>
                      <div class="text-xs text-gray-400" x-text="manga.role"></div>
                    </div>
                  </div>
                  <div class="flex gap-2">
                    <button @click="editManga(manga, 'translation')"
                      class="text-blue-500 text-xs font-bold hover:underline">Edit</button>
                    <button @click="deleteManga(manga.id, 'translation')"
                      class="text-red-500 text-xs font-bold hover:underline">Delete</button>
                  </div>
                </div>
              </template>
            </div>
          </div>

          <!-- Admin: News -->
          <div x-show="adminTab === 'news'" class="space-y-6">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
              <h3 class="font-bold text-gray-700 mb-4 border-b pb-2">Add News / Devlog</h3>
              <div class="space-y-3">
                <input x-model="newDevlog.title" type="text" placeholder="Title"
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500">
                <select x-model="newDevlog.category"
                  class="w-full p-3 border rounded-xl text-sm bg-white focus:outline-none focus:border-pink-500">
                  <option value="Devlog">Devlog</option>
                  <option value="News">News</option>
                  <option value="Update">Update</option>
                </select>
                <textarea x-model="newDevlog.content" placeholder="Content..."
                  class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-pink-500 h-32"></textarea>
                <button @click="addDevlog()"
                  class="w-full bg-indigo-500 text-white py-3 rounded-xl text-sm font-bold hover:bg-indigo-600 transition-colors shadow-md">Post
                  News</button>
              </div>
            </div>
            <div class="space-y-2">
              <h4 class="font-bold text-gray-600">Existing News</h4>
              <template x-for="log in devlogs" :key="log.id">
                <div class="bg-white p-3 rounded-xl border border-gray-100 flex justify-between items-center">
                  <div>
                    <div class="font-bold text-sm" x-text="log.title"></div>
                    <div class="text-xs text-gray-400" x-text="log.date"></div>
                  </div>
                  <button @click="deleteDevlog(log.id)"
                    class="text-red-500 text-xs font-bold hover:underline">Delete</button>
                </div>
              </template>
            </div>
          </div>

          <!-- Admin: Git Settings -->
          <div x-show="adminTab === 'settings'" class="space-y-6">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200">
              <h3 class="font-bold text-gray-700 mb-4 border-b pb-2 flex items-center gap-2">
                <svg class="w-5 h-5 text-indigo-500" fill="currentColor" viewBox="0 0 24 24">
                  <path fill-rule="evenodd"
                    d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                    clip-rule="evenodd"></path>
                </svg>
                GitHub Persistence Settings
              </h3>
              <div class="space-y-4">
                <div>
                  <label class="text-xs font-bold text-gray-500 mb-1 block">GitHub Personal Access Token (PAT)</label>
                  <input x-model="ghToken" type="password" placeholder="ghp_xxxxxxxxxxxx"
                    class="w-full p-3 border rounded-xl text-sm focus:outline-none focus:border-indigo-500">
                  <p class="text-[10px] text-gray-400 mt-1">‡πÉ‡∏™‡πà‡πÅ‡∏Ñ‡πà Token ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å GitHub (`ghp_...`)
                    ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö (‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏à‡∏≥‡∏ä‡∏∑‡πà‡∏≠ Repository ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á)</p>
                </div>
                <!-- Hidden inputs for repo/branch but kept in model -->
                <div class="hidden">
                  <input x-model="ghRepo" type="hidden">
                  <input x-model="ghBranch" type="hidden">
                </div>
                <button @click="saveGhSettings()"
                  class="w-full bg-indigo-500 text-white py-3 rounded-xl text-sm font-bold hover:bg-indigo-600 transition-colors shadow-md">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
                  Token</button>
              </div>
              <div class="mt-6 p-4 bg-amber-50 rounded-xl border border-amber-100 text-xs text-amber-800">
                <p class="font-bold mb-1">How it works:</p>
                <ol class="list-decimal ml-4 space-y-1">
                  <li>Edit your content in other tabs (saves to browser).</li>
                  <li>Click <strong>Sync to GitHub</strong> at the top right.</li>
                  <li>GitHub Actions will rebuild your site (takes ~1 min).</li>
                  <li>Changes will be live for everyone!</li>
                </ol>
              </div>
            </div>
          </div>

        </div>

      </div>

      <!-- Mobile Bottom Navigation -->
      <div
        class="md:hidden absolute bottom-0 left-0 w-full bg-white/90 backdrop-blur-md border-t border-pink-100 px-6 py-4 flex justify-between items-center z-20 safe-area-pb shadow-lg">
        <button @click="currentTab = 'home'" :class="currentTab === 'home' ? 'text-pink-500' : 'text-gray-400'"
          class="flex flex-col items-center gap-1 w-12">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
            </path>
          </svg>
          <span class="text-[10px] font-bold">Home</span>
        </button>
        <button @click="currentTab = 'original'" :class="currentTab === 'original' ? 'text-pink-500' : 'text-gray-400'"
          class="flex flex-col items-center gap-1 w-12">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253">
            </path>
          </svg>
          <span class="text-[10px] font-bold">Original</span>
        </button>
        <button @click="currentTab = 'translation'"
          :class="currentTab === 'translation' ? 'text-pink-500' : 'text-gray-400'"
          class="flex flex-col items-center gap-1 w-12">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.148">
            </path>
          </svg>
          <span class="text-[10px] font-bold">Translate</span>
        </button>
        <button @click="currentTab = 'devlog'" :class="currentTab === 'devlog' ? 'text-pink-500' : 'text-gray-400'"
          class="flex flex-col items-center gap-1 w-12">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z">
            </path>
          </svg>
          <span class="text-[10px] font-bold">Devlog</span>
        </button>
      </div>

    </div>

    <!-- Manga Detail Modal -->
    <div x-show="showMangaModal" x-cloak
      class="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4"
      x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0"
      x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-200"
      x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">

      <div
        class="bg-white rounded-3xl w-full max-w-2xl overflow-hidden shadow-2xl relative flex flex-col md:flex-row max-h-[90vh] md:max-h-none">
        <button @click="showMangaModal = false"
          class="absolute top-4 right-4 z-10 w-8 h-8 bg-white/50 hover:bg-white rounded-full flex items-center justify-center text-gray-800 transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>

        <!-- Modal Image -->
        <div class="w-full md:w-2/5 bg-gray-100 relative">
          <img :src="selectedManga.cover" class="w-full h-64 md:h-full object-cover">
        </div>

        <!-- Modal Content -->
        <div class="w-full md:w-3/5 p-6 md:p-8 flex flex-col overflow-y-auto">
          <span class="text-xs font-bold text-pink-500 uppercase tracking-wider mb-2"
            x-text="selectedManga.role || 'Original Work'"></span>
          <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2" x-text="selectedManga.title"></h2>
          <p class="text-sm text-gray-500 mb-4" x-text="selectedManga.status"></p>

          <div class="flex gap-2 mb-6 flex-wrap">
            <template x-for="lang in selectedManga.langs" :key="lang">
              <span class="px-3 py-1 rounded-full bg-pink-100 text-pink-600 text-xs font-bold"
                x-text="lang === 'TH' ? 'Thai' : 'English'"></span>
            </template>
          </div>

          <div class="mt-auto">
            <h3 class="font-bold text-gray-700 mb-3 text-sm uppercase">Read On:</h3>
            <div class="space-y-2">
              <template x-for="link in selectedManga.links" :key="link.url">
                <a :href="link.url" target="_blank"
                  class="block w-full p-3 bg-gray-50 hover:bg-pink-50 border border-gray-200 hover:border-pink-300 rounded-xl transition-all flex items-center justify-between group">
                  <span class="font-bold text-gray-700 group-hover:text-pink-600" x-text="link.name"></span>
                  <svg class="w-4 h-4 text-gray-400 group-hover:text-pink-500" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                  </svg>
                </a>
              </template>
              <template x-if="selectedManga.links.length === 0">
                <p class="text-sm text-gray-400 italic">No reading links available yet.</p>
              </template>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Password Modal -->
    <div x-show="showPasswordModal" x-cloak
      class="absolute inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4">
      <div class="bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl transform transition-all scale-100">
        <h3 class="font-bold text-xl text-gray-800 mb-2 text-center">Admin Access</h3>
        <p class="text-sm text-gray-500 mb-4 text-center">Enter Password</p>
        <input type="password" x-model="passwordInput" @keyup.enter="verifyPassword()" placeholder="Password"
          class="w-full p-3 border border-gray-300 rounded-xl mb-4 focus:outline-none focus:border-pink-500 text-center tracking-widest">
        <div class="flex gap-2">
          <button @click="showPasswordModal = false"
            class="flex-1 py-2 text-gray-500 font-bold hover:bg-gray-100 rounded-xl">Cancel</button>
          <button @click="verifyPassword()"
            class="flex-1 py-2 bg-pink-500 text-white font-bold rounded-xl hover:bg-pink-600">Login</button>
        </div>
        <p x-show="loginError" class="text-red-500 text-xs text-center mt-2">Incorrect Password</p>
      </div>
    </div>

  </div>

  <!-- Local JS -->
  <script src="js/app.js"></script>
</body>

</html>